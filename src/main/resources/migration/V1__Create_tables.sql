DROP TABLE IF EXISTS students CASCADE;
DROP TABLE IF EXISTS skills CASCADE;
DROP TABLE IF EXISTS student_skills CASCADE;

CREATE TABLE IF NOT EXISTS students (
  student_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  first_name VARCHAR NOT NULL,
  second_name VARCHAR NOT NULL
);

CREATE TABLE IF NOT EXISTS skills (
  skill_id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  skill_name VARCHAR NOT NULL,
  hard_skill BOOLEAN,
  soft_skill BOOLEAN
);

CREATE TABLE IF NOT EXISTS student_skills (
    student_id INTEGER NOT NULL,
    skill_id INTEGER NOT NULL,
    PRIMARY KEY (student_id, skill_id),
    FOREIGN KEY (student_id) REFERENCES students(student_id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(skill_id) ON DELETE CASCADE
);